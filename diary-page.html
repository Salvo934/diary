<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Diario Globale - Empatheia</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Playfair+Display:wght@400;500;600;700&family=Caveat:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root {
            --primary-gold: #d4af37;
            --secondary-gold: #f4e4bc;
            --dark-blue: #1e3a8a;
            --cream: #f5f5dc;
            --paper-white: #fefcf0;
            --paper-shadow: rgba(0, 0, 0, 0.1);
            --ink-blue: #2c3e50;
            --ink-light: #34495e;
            --dark-bg: #0a0a0a;
            --darker-bg: #1a1a1a;
            --card-bg: #2d2d2d;
            --text-light: #f5f5f5;
            --text-muted: #cccccc;
            --success-green: #10b981;
            --love-red: #ef4444;
            --hope-blue: #3b82f6;
            --gradient-primary: linear-gradient(135deg, #d4af37 0%, #f4e4bc 100%);
            --gradient-dark: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 50%, #2d2d2d 100%);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: var(--gradient-dark);
            color: var(--text-light);
            line-height: 1.6;
            overflow-x: hidden;
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Animated Background */
        .animated-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            background: var(--gradient-dark);
        }

        .animated-bg::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at 20% 80%, rgba(212, 175, 55, 0.1) 0%, transparent 50%),
                        radial-gradient(circle at 80% 20%, rgba(30, 58, 138, 0.1) 0%, transparent 50%),
                        radial-gradient(circle at 40% 40%, rgba(245, 245, 220, 0.05) 0%, transparent 50%);
            animation: float 20s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            33% { transform: translateY(-20px) rotate(1deg); }
            66% { transform: translateY(10px) rotate(-1deg); }
        }

        /* Header */
        header {
            background: rgba(10, 10, 10, 0.95);
            backdrop-filter: blur(20px);
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            border-bottom: 1px solid rgba(212, 175, 55, 0.2);
            transition: all 0.3s ease;
        }

        header.scrolled {
            background: rgba(10, 10, 10, 0.98);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        }

        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 0;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 1.5rem;
            cursor: pointer;
        }

        .logo-image {
            width: 60px;
            height: 60px;
            object-fit: contain;
            transition: all 0.3s ease;
            border-radius: 50%;
            box-shadow: 0 4px 15px rgba(212, 175, 55, 0.3);
        }

        .logo-image:hover {
            transform: scale(1.1) rotate(2deg);
            box-shadow: 0 6px 20px rgba(212, 175, 55, 0.5);
        }

        .logo-text {
            font-family: 'Playfair Display', serif;
            font-size: 2rem;
            font-weight: 700;
            color: var(--text-light);
            letter-spacing: 3px;
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            transition: all 0.3s ease;
        }

        .logo:hover .logo-text {
            transform: scale(1.05);
        }

        .nav-links {
            display: flex;
            list-style: none;
            gap: 2.5rem;
        }

        .nav-links a {
            color: var(--text-light);
            text-decoration: none;
            font-weight: 500;
            position: relative;
            transition: all 0.3s ease;
            padding: 0.5rem 0;
        }

        .nav-links a::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background: var(--gradient-primary);
            transition: width 0.3s ease;
        }

        .nav-links a:hover::after {
            width: 100%;
        }

        .nav-links a:hover {
            color: var(--primary-gold);
            transform: translateY(-2px);
        }

        .back-btn {
            background: var(--gradient-primary);
            color: var(--dark-bg);
            padding: 12px 28px;
            border-radius: 30px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .back-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.5s ease;
        }

        .back-btn:hover::before {
            left: 100%;
        }

        .back-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(212, 175, 55, 0.4);
        }

        /* Mobile Menu */
        .mobile-menu {
            display: none;
        }

        .mobile-menu-btn {
            background: none;
            border: none;
            color: var(--text-light);
            font-size: 1.5rem;
            cursor: pointer;
            padding: 0.5rem;
            transition: all 0.3s ease;
        }

        .mobile-menu-btn:hover {
            color: var(--primary-gold);
        }

        .mobile-nav {
            position: fixed;
            top: 0;
            right: -100%;
            width: 280px;
            height: 100vh;
            background: rgba(10, 10, 10, 0.98);
            backdrop-filter: blur(20px);
            padding: 80px 2rem 2rem;
            transition: right 0.3s ease;
            z-index: 1001;
            border-left: 1px solid rgba(212, 175, 55, 0.2);
        }

        .mobile-nav.active {
            right: 0;
        }

        .mobile-nav a {
            display: block;
            color: var(--text-light);
            text-decoration: none;
            padding: 1rem 0;
            border-bottom: 1px solid rgba(212, 175, 55, 0.1);
            font-size: 1.1rem;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .mobile-nav a:hover,
        .mobile-nav a.active {
            color: var(--primary-gold);
            padding-left: 1rem;
        }

        .mobile-back-btn {
            background: var(--gradient-primary);
            color: var(--dark-bg) !important;
            border-radius: 25px;
            text-align: center;
            margin-top: 2rem;
            border: none !important;
            padding: 1rem !important;
        }

        .mobile-nav-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .mobile-nav-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        /* Page Header */
        .page-header {
            padding: 140px 0 60px;
            text-align: center;
            background: var(--gradient-dark);
            position: relative;
        }

        .page-header h1 {
            font-family: 'Playfair Display', serif;
            font-size: 3.5rem;
            font-weight: 700;
            margin-bottom: 1rem;
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: fadeInUp 1s ease-out;
        }

        .page-header p {
            font-size: 1.2rem;
            color: var(--text-muted);
            max-width: 600px;
            margin: 0 auto 2rem;
            animation: fadeInUp 1s ease-out 0.2s both;
        }

        .diary-stats {
            display: flex;
            justify-content: center;
            gap: 3rem;
            margin-top: 2rem;
            animation: fadeInUp 1s ease-out 0.4s both;
        }

        .stat-item {
            text-align: center;
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--primary-gold);
            display: block;
        }

        .stat-label {
            color: var(--text-muted);
            font-size: 0.9rem;
            margin-top: 0.5rem;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Diary Pages Grid */
        .diary-grid {
            padding: 60px 0 100px;
            position: relative;
        }

        .stories-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(400px, 1fr));
            gap: 3rem;
            max-width: 1200px;
            margin: 0 auto;
        }

        /* Diary Page Styling */
        .diary-page {
            background: var(--paper-white);
            border-radius: 0;
            box-shadow: 
                0 1px 3px rgba(0,0,0,0.12),
                0 1px 2px rgba(0,0,0,0.24),
                inset 0 0 0 1px rgba(255,0,0,0.1);
            position: relative;
            min-height: 500px;
            transform: rotate(-1deg);
            transition: all 0.4s ease;
            overflow: hidden;
            cursor: pointer;
        }

        .diary-page:nth-child(even) {
            transform: rotate(1deg);
        }

        .diary-page:hover {
            transform: rotate(0deg) scale(1.02);
            box-shadow: 
                0 14px 28px rgba(0,0,0,0.25),
                0 10px 10px rgba(0,0,0,0.22);
            z-index: 10;
        }

        .diary-page::before {
            content: '';
            position: absolute;
            top: 0;
            left: 40px;
            width: 2px;
            height: 100%;
            background: repeating-linear-gradient(
                to bottom,
                transparent 0px,
                transparent 24px,
                #ff9999 24px,
                #ff9999 26px
            );
            opacity: 0.3;
        }

        .diary-page::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 60px;
            background: linear-gradient(
                to bottom,
                transparent 0%,
                transparent 85%,
                rgba(0,0,0,0.05) 100%
            );
        }

        /* Lined paper effect */
        .diary-content {
            padding: 40px 30px 30px 60px;
            background-image: repeating-linear-gradient(
                transparent,
                transparent 24px,
                rgba(0,0,0,0.1) 24px,
                rgba(0,0,0,0.1) 26px
            );
            min-height: 500px;
            position: relative;
        }

        /* Holes for ring binding */
        .diary-page .holes {
            position: absolute;
            left: 15px;
            top: 50px;
            bottom: 50px;
            width: 10px;
        }

        .hole {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: var(--darker-bg);
            margin-bottom: 40px;
            box-shadow: inset 0 1px 2px rgba(0,0,0,0.3);
        }

        .diary-date {
            position: absolute;
            top: 15px;
            right: 30px;
            font-family: 'Caveat', cursive;
            font-size: 1rem;
            color: var(--ink-light);
            transform: rotate(-2deg);
        }

        .diary-emotion {
            font-family: 'Caveat', cursive;
            font-size: 1.3rem;
            color: var(--ink-blue);
            font-weight: 600;
            margin-bottom: 15px;
            transform: rotate(-1deg);
            display: inline-block;
            background: linear-gradient(45deg, #ffeb3b, #ffc107);
            padding: 5px 15px;
            border-radius: 20px;
            color: #333;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .diary-text {
            font-family: 'Caveat', cursive;
            font-size: 1.1rem;
            color: var(--ink-blue);
            line-height: 26px;
            letter-spacing: 0.5px;
            word-spacing: 1px;
            margin-bottom: 15px;
            position: relative;
        }

        .diary-author {
            font-family: 'Caveat', cursive;
            font-size: 1rem;
            color: var(--ink-light);
            text-align: right;
            margin-bottom: 20px;
            font-style: italic;
            transform: rotate(-0.5deg);
        }

        /* Handwriting effects */
        .diary-text::selection {
            background: rgba(255, 235, 59, 0.3);
        }

        /* Reactions on diary page */
        .diary-reactions {
            position: absolute;
            bottom: 20px;
            left: 60px;
            right: 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .reaction-stickers {
            display: flex;
            gap: 10px;
        }

        .sticker {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }

        .sticker.love {
            background: #ff6b9d;
            color: white;
        }

        .sticker.support {
            background: #4ecdc4;
            color: white;
        }

        .sticker.hope {
            background: #45b7d1;
            color: white;
        }

        .sticker:hover {
            transform: scale(1.2) rotate(10deg);
        }

        .sticker-count {
            position: absolute;
            top: -8px;
            right: -8px;
            background: var(--dark-bg);
            color: white;
            font-size: 0.7rem;
            padding: 2px 6px;
            border-radius: 10px;
            min-width: 16px;
            text-align: center;
            font-family: 'Inter', sans-serif;
        }

        .contact-indicator {
            font-size: 1.5rem;
            color: var(--primary-gold);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .contact-indicator:hover {
            transform: scale(1.2);
            color: #ffd700;
        }

        /* Delete button for own stories */
        .delete-story-btn {
            position: absolute;
            top: 15px;
            left: 15px;
            background: #ef4444;
            color: white;
            border: none;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            cursor: pointer;
            font-size: 0.8rem;
            transition: all 0.3s ease;
            opacity: 0;
            transform: scale(0.8);
            z-index: 10;
        }

        .diary-page:hover .delete-story-btn {
            opacity: 1;
            transform: scale(1);
        }

        .delete-story-btn:hover {
            background: #dc2626;
            transform: scale(1.1);
            box-shadow: 0 4px 8px rgba(239, 68, 68, 0.3);
        }

        /* Paper texture overlay */
        .diary-page .paper-texture {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at 20% 80%, rgba(255,255,255,0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(0,0,0,0.02) 0%, transparent 50%),
                radial-gradient(circle at 40% 40%, rgba(255,255,255,0.05) 0%, transparent 50%);
            pointer-events: none;
        }

        /* Coffee stain effects */
        .coffee-stain {
            position: absolute;
            width: 30px;
            height: 30px;
            background: radial-gradient(circle, rgba(139,69,19,0.1) 0%, transparent 70%);
            border-radius: 50%;
            transform: rotate(45deg);
        }

        .coffee-stain.small {
            width: 15px;
            height: 15px;
        }

        /* Contact Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 2000;
            backdrop-filter: blur(5px);
        }

        .modal.show {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background: var(--card-bg);
            padding: 3rem;
            border-radius: 20px;
            border: 1px solid rgba(212, 175, 55, 0.3);
            max-width: 500px;
            width: 90%;
            position: relative;
        }

        .modal-close {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: none;
            border: none;
            color: var(--text-light);
            font-size: 1.5rem;
            cursor: pointer;
        }

        .modal h3 {
            color: var(--primary-gold);
            margin-bottom: 1.5rem;
            font-size: 1.5rem;
        }

        .modal p {
            color: var(--text-muted);
            margin-bottom: 2rem;
            line-height: 1.6;
        }

        .modal-form {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .modal-form input,
        .modal-form textarea {
            padding: 1rem;
            border: 1px solid rgba(212, 175, 55, 0.3);
            border-radius: 10px;
            background: rgba(245, 245, 245, 0.05);
            color: var(--text-light);
            font-family: 'Inter', sans-serif;
        }

        .modal-form input:focus,
        .modal-form textarea:focus {
            outline: none;
            border-color: var(--primary-gold);
        }

        .modal-form button {
            background: var(--gradient-primary);
            color: var(--dark-bg);
            border: none;
            padding: 1rem;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .modal-form button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(212, 175, 55, 0.4);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .nav-links,
            .back-btn {
                display: none;
            }

            .mobile-menu {
                display: block;
            }

            .container {
                padding: 0 15px;
            }

            .page-header {
                padding: 120px 0 40px;
            }

            .page-header h1 {
                font-size: 2.5rem;
            }

            .diary-stats {
                flex-direction: column;
                gap: 1rem;
            }

            .stories-container {
                grid-template-columns: 1fr;
                gap: 2rem;
                padding: 0 10px;
            }

            .diary-page {
                min-height: 400px;
                margin: 0 auto;
                max-width: 90%;
            }

            .diary-content {
                padding: 30px 20px 20px 45px;
            }

            .diary-text {
                font-size: 1rem;
                line-height: 24px;
            }

            .diary-author {
                font-size: 0.9rem;
            }

            .diary-reactions {
                flex-direction: column;
                gap: 1rem;
                align-items: center;
            }

            .reaction-stickers {
                justify-content: center;
            }


        }

        /* Loading animation */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(212, 175, 55, 0.3);
            border-radius: 50%;
            border-top-color: var(--primary-gold);
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Notification animation */
        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        /* Scroll animations */
        .fade-in {
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.6s ease;
        }

        .fade-in.visible {
            opacity: 1;
            transform: translateY(0);
                }

        /* Modern Footer */
        .diary-footer {
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 100%);
            padding: 50px 0 20px;
            margin-top: 80px;
            position: relative;
            overflow: hidden;
        }

        .diary-footer::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at 25% 25%, rgba(212, 175, 55, 0.05) 0%, transparent 50%),
                        radial-gradient(circle at 75% 75%, rgba(59, 130, 246, 0.05) 0%, transparent 50%);
        }

        .footer-main {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 4rem;
            margin-bottom: 3rem;
            position: relative;
            z-index: 2;
            max-width: 900px;
            margin-left: auto;
            margin-right: auto;
        }

        .footer-brand {
            max-width: 100%;
            text-align: center;
        }

        .brand-logo {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .logo-img {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            object-fit: cover;
            box-shadow: 0 4px 12px rgba(212, 175, 55, 0.3);
        }

        .footer-brand h3 {
            font-family: 'Playfair Display', serif;
            font-size: 1.6rem;
            color: var(--primary-gold);
            font-weight: 700;
            letter-spacing: 1px;
        }

        .footer-brand p {
            color: var(--text-muted);
            line-height: 1.6;
            margin-bottom: 2rem;
            font-size: 1rem;
        }

        .social-media {
            display: flex;
            justify-content: center;
            gap: 1rem;
        }

        .social-btn {
            width: 42px;
            height: 42px;
            background: rgba(212, 175, 55, 0.1);
            border: 1px solid rgba(212, 175, 55, 0.2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-light);
            text-decoration: none;
            transition: all 0.3s ease;
            font-size: 1.1rem;
        }

        .social-btn:hover {
            background: var(--primary-gold);
            color: var(--dark-bg);
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(212, 175, 55, 0.4);
        }

        .footer-nav {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            text-align: center;
        }

        .nav-column h4 {
            color: var(--primary-gold);
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 1.2rem;
        }

        .nav-column ul {
            list-style: none;
        }

        .nav-column li {
            margin-bottom: 0.7rem;
        }

        .nav-column a {
            color: var(--text-muted);
            text-decoration: none;
            font-size: 0.95rem;
            transition: all 0.3s ease;
            display: block;
            padding: 0.3rem 0;
        }

        .nav-column a:hover {
            color: var(--primary-gold);
            padding-left: 0.5rem;
        }

        .footer-bottom {
            border-top: 1px solid rgba(212, 175, 55, 0.2);
            padding-top: 2rem;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            gap: 1.5rem;
            position: relative;
            z-index: 2;
            text-align: center;
        }

        .community-stats {
            display: flex;
            justify-content: center;
            gap: 2rem;
            flex-wrap: wrap;
        }

        .stat-item {
            color: var(--text-muted);
            font-size: 0.85rem;
            font-weight: 500;
            padding: 0.3rem 0.8rem;
            background: rgba(212, 175, 55, 0.08);
            border-radius: 15px;
            border: 1px solid rgba(212, 175, 55, 0.15);
        }

        .copyright p {
            color: var(--text-muted);
            font-size: 0.9rem;
            margin: 0;
        }

        /* Footer Responsive */
        @media (max-width: 768px) {
            .diary-footer {
                padding: 40px 0 20px;
                margin-top: 60px;
            }

            .footer-main {
                grid-template-columns: 1fr;
                gap: 2.5rem;
                text-align: center;
            }

            .footer-nav {
                grid-template-columns: 1fr;
                gap: 2rem;
            }

            .footer-brand {
                max-width: 100%;
            }

            .social-media {
                justify-content: center;
            }

            .footer-bottom {
                flex-direction: column;
                text-align: center;
                gap: 1.5rem;
            }

            .community-stats {
                justify-content: center;
                gap: 1rem;
            }

            .stat-item {
                font-size: 0.8rem;
            }
        }

    </style>
</head>
<body>
    <div class="animated-bg"></div>

    <!-- Header -->
    <header id="header">
        <nav class="container">
            <div class="logo" onclick="window.location.href='index.html'">
                <img src="logo.jpg" alt="Empatheia Logo" class="logo-image">
                <div class="logo-text">EMPATHEIA</div>
            </div>
            <ul class="nav-links">
                <li><a href="index.html#home">Home</a></li>
                <li><a href="#" class="active">Diario</a></li>
                <li><a href="index.html#about">Chi Siamo</a></li>
                <li><a href="index.html#contact">Contatti</a></li>
            </ul>
            <div class="mobile-menu">
                <button class="mobile-menu-btn" onclick="toggleMobileMenu()">
                    <i class="fas fa-bars"></i>
                </button>
                <div class="mobile-nav">
                    <a href="index.html#home">Home</a>
                    <a href="#" class="active">Diario</a>
                    <a href="index.html#about">Chi Siamo</a>
                    <a href="index.html#contact">Contatti</a>
                    <a href="index.html" class="mobile-back-btn">
                        <i class="fas fa-arrow-left"></i> Torna al Sito
                    </a>
                </div>
            </div>
            <a href="index.html" class="back-btn">
                <i class="fas fa-arrow-left"></i> Torna al Sito
            </a>
        </nav>
    </header>

    <!-- Page Header -->
    <section class="page-header">
        <div class="container">
            <h1><i class="fas fa-book-open"></i> Diario Globale</h1>
            <p>Sfoglia le pagine del nostro diario condiviso. Ogni storia è una voce che conta, ogni emozione ha valore.</p>
            
            <div class="diary-stats">
                <div class="stat-item">
                    <span class="stat-number" id="totalStories">127</span>
                    <div class="stat-label">Storie Condivise</div>
                </div>
                <div class="stat-item">
                    <span class="stat-number" id="totalReactions">1,842</span>
                    <div class="stat-label">Reazioni Positive</div>
                </div>
                <div class="stat-item">
                    <span class="stat-number" id="totalConnections">89</span>
                    <div class="stat-label">Connessioni Create</div>
                </div>
            </div>
        </div>
    </section>

    <!-- Diary Pages Grid -->
    <section class="diary-grid">
        <div class="container">
            <div class="stories-container" id="storiesContainer">
                <!-- Stories will be dynamically added here -->
            </div>
        </div>
    </section>

    <!-- Contact Modal -->
    <div id="contactModal" class="modal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeContactModal()">&times;</button>
            <h3><i class="fas fa-heart"></i> Invia un Messaggio di Supporto</h3>
            <p>Vuoi offrire supporto a questa persona? Scrivi un messaggio gentile e di incoraggiamento.</p>
            <form class="modal-form" id="contactForm">
                <input type="text" placeholder="Il tuo nome (opzionale)" id="senderName">
                <textarea placeholder="Scrivi il tuo messaggio di supporto..." id="supportMessage" required rows="4"></textarea>
                <button type="submit">
                    <i class="fas fa-paper-plane"></i> Invia Messaggio
                </button>
            </form>
        </div>
        </div>

    <!-- Footer -->
    <footer class="diary-footer">
        <div class="container">
            <div class="footer-main">
                <div class="footer-brand">
                    <div class="brand-logo">
                        <img src="logo.jpg" alt="Empatheia Logo" class="logo-img">
                        <h3>EMPATHEIA</h3>
                    </div>
                    <p>Un diario globale anonimo contro il bullismo. Insieme, creiamo un mondo più empatico.</p>
                    
                    <div class="social-media">
                        <a href="#" class="social-btn" title="Instagram">
                            <i class="fab fa-instagram"></i>
                        </a>
                        <a href="#" class="social-btn" title="TikTok">
                            <i class="fab fa-tiktok"></i>
                        </a>
                        <a href="#" class="social-btn" title="YouTube">
                            <i class="fab fa-youtube"></i>
                        </a>
                    </div>
                </div>

                <div class="footer-nav">
                    <div class="nav-column">
                        <h4>Esplora</h4>
                        <ul>
                            <li><a href="index.html#diary">Scrivi Storia</a></li>
                            <li><a href="#" onclick="location.reload()">Leggi Storie</a></li>
                            <li><a href="index.html#about">Chi Siamo</a></li>
                        </ul>
                    </div>

                    <div class="nav-column">
                        <h4>Supporto</h4>
                        <ul>
                            <li><a href="tel:19696">📞 Telefono Azzurro</a></li>
                            <li><a href="tel:112">🆘 Emergenza 112</a></li>
                            <li><a href="index.html#contact">Contatti</a></li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="footer-bottom">
                <div class="community-stats">
                    <span class="stat-item">1,200+ storie</span>
                    <span class="stat-item">15K+ reazioni</span>
                    <span class="stat-item">100% anonimo</span>
                </div>
                <div class="copyright">
                    <p>&copy; 2024 Empatheia • Creato per aiutare i giovani</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- Mobile Menu Overlay -->
    <div class="mobile-nav-overlay" onclick="closeMobileMenu()"></div>

    <script>
        // Default stories data
        const defaultStories = [
            {
                id: 1,
                emotion: "Speranzoso",
                content: "Oggi è stata una giornata difficile, ma ho parlato con mia madre di quello che mi sta succedendo a scuola. Mi ha ascoltato davvero e mi ha detto che non è colpa mia. Per la prima volta da settimane mi sento meno solo. Ho capito che chiedere aiuto non significa essere deboli.",
                date: "2 ore fa",
                reactions: { love: 12, support: 8, hope: 15 },
                allowContact: true,
                author: "user123",
                authorName: "Marco"
            },
            {
                id: 2,
                emotion: "Triste ma Determinato",
                content: "Le parole fanno male quanto i pugni, forse anche di più. Non riesco a togliermi dalla testa quello che mi hanno detto oggi. Ma scrivere qui mi fa sentire un po' meglio. Grazie a chi leggerà questo. Non siamo soli in questa battaglia.",
                date: "5 ore fa",
                reactions: { love: 25, support: 18, hope: 22 },
                allowContact: true,
                author: "user456",
                authorName: "Anonimo"
            },
            {
                id: 3,
                emotion: "Coraggioso",
                content: "Oggi ho trovato il coraggio di parlare con un insegnante. Non è stato facile, ma era necessario. Voglio che altri sappiano che chiedere aiuto non è debolezza, è forza. Abbiamo diritto di sentirci al sicuro a scuola.",
                date: "1 giorno fa",
                reactions: { love: 35, support: 28, hope: 31 },
                allowContact: false,
                author: "user789",
                authorName: "Sofia"
            },
            {
                id: 4,
                emotion: "Confuso",
                content: "Non capisco perché alcuni ragazzi pensano che sia divertente prendere in giro gli altri. Mi sento come se fossi invisibile, ma allo stesso tempo troppo visibile quando si tratta di essere deriso. È strano questo sentimento.",
                date: "2 giorni fa",
                reactions: { love: 18, support: 22, hope: 16 },
                allowContact: true,
                author: "user321",
                authorName: "Anonimo"
            },
            {
                id: 5,
                emotion: "Grato",
                content: "Volevo ringraziare tutti quelli che mi hanno scritto dopo la mia ultima storia. Non sapevo che tante persone si preoccupassero. I vostri messaggi mi hanno dato la forza di continuare. Questo posto è speciale.",
                date: "3 giorni fa",
                reactions: { love: 42, support: 35, hope: 29 },
                allowContact: true,
                author: "user654",
                authorName: "Luca"
            },
            {
                id: 6,
                emotion: "Arrabbiato",
                content: "Oggi ho perso la pazienza e ho risposto male. Non sono orgoglioso di come ho reagito, ma ero stanco di subire sempre. Devo trovare un modo migliore per gestire la rabbia. Qualcuno ha consigli?",
                date: "4 giorni fa",
                reactions: { love: 14, support: 31, hope: 19 },
                allowContact: true,
                author: "user987",
                authorName: "Alex"
            },
            {
                id: 7,
                emotion: "Ottimista",
                content: "Le cose stanno migliorando! Dopo settimane difficili, ho trovato un gruppo di amici che mi accettano per quello che sono. Voglio dire a tutti che non bisogna mai perdere la speranza. I giorni bui finiscono sempre.",
                date: "1 settimana fa",
                reactions: { love: 67, support: 45, hope: 52 },
                allowContact: false,
                author: "user111",
                authorName: "Chiara"
            },
            {
                id: 8,
                emotion: "Riflessivo",
                content: "Ho iniziato a capire che il bullismo dice molto di più su chi lo fa che su chi lo subisce. Non è facile ricordarselo quando sei nel mezzo della tempesta, ma è importante. Stiamo crescendo tutti.",
                date: "1 settimana fa",
                reactions: { love: 23, support: 27, hope: 34 },
                allowContact: true,
                author: "user222",
                authorName: "Anonimo"
            }
        ];

        // Load stories from localStorage or use defaults
        function loadStoriesFromStorage() {
            const savedStories = localStorage.getItem('empatheiaStories');
            if (savedStories) {
                const stories = JSON.parse(savedStories);
                // Ensure all stories have authorName field for backward compatibility
                return stories.map(story => ({
                    ...story,
                    authorName: story.authorName || 'Anonimo'
                }));
            }
            return defaultStories;
        }

        // Save stories to localStorage
        function saveStoriesToStorage(storiesData) {
            localStorage.setItem('empatheiaStories', JSON.stringify(storiesData));
        }

        // Initialize stories from storage
        let stories = loadStoriesFromStorage();

        let currentStoryId = null;
        
        // Get or create current user ID
        function getCurrentUserId() {
            let userId = localStorage.getItem('empatheiaUserId');
            if (!userId) {
                userId = "user" + Math.random().toString(36).substr(2, 9);
                localStorage.setItem('empatheiaUserId', userId);
            }
            return userId;
        }

        const currentUserId = getCurrentUserId();

        // Coffee stain positions (randomized)
        const coffeeStainPositions = [
            { top: '20%', right: '15%', size: 'small' },
            { bottom: '30%', left: '10%', size: 'normal' },
            { top: '60%', right: '25%', size: 'small' },
            { bottom: '15%', right: '30%', size: 'normal' }
        ];

        // Create diary page element
        function createDiaryPage(story) {
            const page = document.createElement('div');
            page.className = 'diary-page fade-in';
            
            // Add random coffee stain
            const stainPos = coffeeStainPositions[Math.floor(Math.random() * coffeeStainPositions.length)];
            const coffeeStain = Math.random() > 0.7 ? `<div class="coffee-stain ${stainPos.size}" style="top: ${stainPos.top || 'auto'}; bottom: ${stainPos.bottom || 'auto'}; left: ${stainPos.left || 'auto'}; right: ${stainPos.right || 'auto'};"></div>` : '';
            
            page.innerHTML = `
                ${story.author === currentUserId ? `
                    <button class="delete-story-btn" onclick="deleteStory(${story.id})" title="Elimina la mia storia">
                        <i class="fas fa-trash"></i>
                    </button>
                ` : ''}
                <div class="holes">
                    <div class="hole"></div>
                    <div class="hole"></div>
                    <div class="hole"></div>
                    <div class="hole"></div>
                    <div class="hole"></div>
                </div>
                <div class="diary-date">${story.date}</div>
                <div class="diary-content">
                    <div class="diary-emotion">${story.emotion}</div>
                    <div class="diary-text">${story.content}</div>
                    <div class="diary-author">- ${story.authorName || 'Anonimo'}</div>
                    <div class="diary-reactions">
                        <div class="reaction-stickers">
                            <div class="sticker love" onclick="addReaction(${story.id}, 'love')" title="Amore e supporto">
                                <i class="fas fa-heart"></i>
                                <span class="sticker-count">${story.reactions.love}</span>
                            </div>
                            <div class="sticker support" onclick="addReaction(${story.id}, 'support')" title="Ti capisco">
                                <i class="fas fa-hands-helping"></i>
                                <span class="sticker-count">${story.reactions.support}</span>
                            </div>
                            <div class="sticker hope" onclick="addReaction(${story.id}, 'hope')" title="Speranza">
                                <i class="fas fa-star"></i>
                                <span class="sticker-count">${story.reactions.hope}</span>
                            </div>
                        </div>
                        ${story.allowContact ? `
                            <div class="contact-indicator" onclick="openContactModal(${story.id})" title="Contatta questo utente">
                                <i class="fas fa-envelope-heart"></i>
                            </div>
                        ` : ''}
                    </div>
                </div>
                <div class="paper-texture"></div>
                ${coffeeStain}
            `;
            
            return page;
        }

        // Load and display stories
        function loadStories() {
            // Refresh stories from localStorage
            stories = loadStoriesFromStorage();
            
            const container = document.getElementById('storiesContainer');
            container.innerHTML = '';
            
            stories.forEach((story, index) => {
                setTimeout(() => {
                    const diaryPage = createDiaryPage(story);
                    container.appendChild(diaryPage);
                    
                    // Trigger animation
                    setTimeout(() => {
                        diaryPage.classList.add('visible');
                    }, 100);
                }, index * 150); // Stagger the loading animation
            });

            // Update stats
            updateStats();
        }

        // Update statistics
        function updateStats() {
            const totalStories = stories.length;
            const totalReactions = stories.reduce((sum, story) => 
                sum + story.reactions.love + story.reactions.support + story.reactions.hope, 0
            );
            const totalConnections = stories.filter(story => story.allowContact).length;

            document.getElementById('totalStories').textContent = totalStories;
            document.getElementById('totalReactions').textContent = totalReactions.toLocaleString();
            document.getElementById('totalConnections').textContent = totalConnections;
        }

        // Add reaction to story
        function addReaction(storyId, reactionType) {
            const story = stories.find(s => s.id === storyId);
            if (story) {
                story.reactions[reactionType]++;
                
                // Save updated stories to localStorage
                saveStoriesToStorage(stories);
                
                // Find the sticker element and update it
                const stickerElement = event.target.closest('.sticker');
                const countElement = stickerElement.querySelector('.sticker-count');
                countElement.textContent = story.reactions[reactionType];
                
                // Add visual feedback
                stickerElement.style.transform = 'scale(1.3) rotate(15deg)';
                setTimeout(() => {
                    stickerElement.style.transform = '';
                }, 300);

                updateStats();
            }
        }

        // Delete story (only by author)
        function deleteStory(storyId) {
            const story = stories.find(s => s.id === storyId);
            
            // Check if user is the author
            if (story && story.author === currentUserId) {
                if (confirm('Sei sicuro di voler eliminare la tua storia? Questa azione non può essere annullata.')) {
                    // Remove story from array
                    stories = stories.filter(s => s.id !== storyId);
                    
                    // Save updated stories to localStorage
                    saveStoriesToStorage(stories);
                    
                    // Reload stories to update the display
                    loadStories();
                    
                    // Show success notification
                    showNotification('La tua storia è stata eliminata con successo.', 'success');
                }
            } else {
                showNotification('Non puoi eliminare questa storia.', 'error');
            }
        }

        // Open contact modal
        function openContactModal(storyId) {
            currentStoryId = storyId;
            document.getElementById('contactModal').classList.add('show');
        }

        // Close contact modal
        function closeContactModal() {
            document.getElementById('contactModal').classList.remove('show');
            currentStoryId = null;
            document.getElementById('contactForm').reset();
        }

        // Handle contact form submission
        document.getElementById('contactForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const senderName = document.getElementById('senderName').value || 'Anonimo';
            const message = document.getElementById('supportMessage').value;
            
            // In a real app, this would send the message to the story author
            console.log('Messaggio inviato:', { storyId: currentStoryId, sender: senderName, message });
            
            showNotification('Messaggio di supporto inviato con successo!', 'success');
            closeContactModal();
        });

        // Show notification
        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            
            let backgroundColor, icon;
            switch(type) {
                case 'success':
                    backgroundColor = 'var(--success-green)';
                    icon = 'fas fa-check-circle';
                    break;
                case 'error':
                    backgroundColor = '#ef4444';
                    icon = 'fas fa-exclamation-circle';
                    break;
                default:
                    backgroundColor = 'var(--primary-gold)';
                    icon = 'fas fa-info-circle';
            }
            
            notification.style.cssText = `
                position: fixed;
                top: 100px;
                right: 20px;
                background: ${backgroundColor};
                color: white;
                padding: 1rem 2rem;
                border-radius: 10px;
                z-index: 3000;
                animation: slideIn 0.5s ease;
                font-weight: 600;
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            `;
            notification.innerHTML = `<i class="${icon}"></i> ${message}`;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.remove();
            }, 3000);
        }

        // Header scroll effect
        window.addEventListener('scroll', function() {
            const header = document.getElementById('header');
            if (window.scrollY > 100) {
                header.classList.add('scrolled');
            } else {
                header.classList.remove('scrolled');
            }
        });

        // Scroll animations
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver(function(entries) {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        }, observerOptions);

        // Close modal when clicking outside
        window.addEventListener('click', function(e) {
            const modal = document.getElementById('contactModal');
            if (e.target === modal) {
                closeContactModal();
            }
        });

        // Initialize page
        window.addEventListener('load', function() {
            loadStories();
            
            // Observe elements for scroll animations
            setTimeout(() => {
                document.querySelectorAll('.fade-in').forEach(el => {
                    observer.observe(el);
                });
            }, 500);
        });

        // Mobile Menu Functions
        function toggleMobileMenu() {
            const mobileNav = document.querySelector('.mobile-nav');
            const overlay = document.querySelector('.mobile-nav-overlay');
            
            mobileNav.classList.toggle('active');
            overlay.classList.toggle('active');
        }

        function closeMobileMenu() {
            const mobileNav = document.querySelector('.mobile-nav');
            const overlay = document.querySelector('.mobile-nav-overlay');
            
            mobileNav.classList.remove('active');
            overlay.classList.remove('active');
        }

        // Add keyboard navigation
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                if (document.getElementById('contactModal').classList.contains('show')) {
                    closeContactModal();
                }
                if (document.querySelector('.mobile-nav').classList.contains('active')) {
                    closeMobileMenu();
                }
            }
        });
    </script>
</body>
</html>
